<th:block th:fragment="alert-script">
  <style>
    @keyframes flash {
      0%   { background-color: #ffffff; }
      100% { background-color: #ffeaa7; }
    }
  </style>
  <script th:inline="javascript">
    /*<![CDATA[*/
    const alertTodos = /*[[${alertTodos}]]*/ [];
    console.log("ðŸš¨ alertTodos =", alertTodos);

    function playAlertSound() {
      const audio = new Audio('/sounds/alert.mp3');
      audio.play().catch(e => console.warn("ðŸ”‡ ìžë™ ìž¬ìƒ ì°¨ë‹¨:", e));
    }

    if (alertTodos.length > 0) {
      // âœ… í™”ë©´ ì ë©¸
      document.body.style.animation = "flash 0.3s alternate 6";

      // âœ… ì²« í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ê·¸ë•Œ ì•Œë¦¼ìŒ ì‹¤í–‰ (ìžë™ìž¬ìƒ ì •ì±… íšŒí”¼ìš©)
      document.addEventListener('click', function handler() {
        playAlertSound();
        document.removeEventListener('click', handler);
      });
    }
    /*]]>*/
  </script>
</th:block>